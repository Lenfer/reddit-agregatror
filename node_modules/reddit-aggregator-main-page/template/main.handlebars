<!DOCTYPE html>
<html>
<head>
	<title>News aggregator</title>
	<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/lodash/4.13.1/lodash.min.js"></script>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css">

	<style type="text/css">
	pre {
		margin: 20px 0;
	}
	</style>

</head>
<body>

<div class="container">
	<h1>Добро пожаловать на агрегатор новостей с <a href="https://www.reddit.com/">reddit.com</a></h1>

	<form id="formId">

		<select class="selectpicker" name="transform">
			<option value="sort-by-date">Статьи по дате</option>
			<option value="sort-by-rating">Статьи по баллам</option>
			<option value="group-by-domens">Хиты по доменам</option>
		</select>

		<select class="selectpicker" name="format">
			<option value="sql">SQL Insert</option>
			<option value="csv">CSV</option>
		</select>

		<button id="buttonId" type="button" class="btn btn-primary">Получить список</button>

	</form>



<pre id="outputConteinerId"></pre>


<div>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>


<script type="text/javascript">
	$(function() {
		var $form = $('#formId');
		var $button = $('#buttonId');
		var $outputConteiner = $('#outputConteinerId')

		$button.on('click', function() {
			var data =$form.serialize();
			$.post('/ajax/get-list', data)
				.done(function(data) {
					console.log(data);
					$outputConteiner.html(data);
				})
				.fail(function(err) {
					console.error(err);
					alert([err.status, err.responseText].join(' ') );
				})
		});

	});
</script>

</body>
</html>